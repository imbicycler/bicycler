<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>바이싸이클러</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio,line-clamp,container-queries"></script>
  </head>

  
<body class="bg-gray-100 font-sans leading-normal tracking-normal">
    <%- include(viewsPath + '/header.html') %>

	<!--Container-->
	<div class="container w-full md:max-w-3xl mx-auto pt-20">
        <div class="prose w-full px-4 md:px-6 text-xl text-gray-800 leading-normal" >
            <h1>노트 목록</h1>
        <ul>
            <% published.forEach(function(note) { %>
            <li>
                <a href="./<%= note.html %>"><%= note.title %></a>
                <small>(<%= new Date(note.published).toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric' }) %>)</small>
            </li>
            <% }); %>
        </ul>
        </div>
	</div>
	<!--/container-->

	<%- include(viewsPath + '/footer.html') %>

	<script>
		/* Progress bar */
		//Source: https://alligator.io/js/progress-bar-javascript-css-variables/
		var h = document.documentElement,
			b = document.body,
			st = 'scrollTop',
			sh = 'scrollHeight',
			progress = document.querySelector('#progress'),
			scroll;
		var scrollpos = window.scrollY;
		var header = document.getElementById("header");
		var navcontent = document.getElementById("nav-content");

		document.addEventListener('scroll', function() {

			/*Refresh scroll % width*/
			scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
			progress.style.setProperty('--scroll', scroll + '%');

			/*Apply classes for slide in bar*/
			scrollpos = window.scrollY;

			if (scrollpos > 10) {
				header.classList.add("bg-white");
				header.classList.add("shadow");
				navcontent.classList.remove("bg-gray-100");
				navcontent.classList.add("bg-white");
			} else {
				header.classList.remove("bg-white");
				header.classList.remove("shadow");
				navcontent.classList.remove("bg-white");
				navcontent.classList.add("bg-gray-100");

			}

		});


		//Javascript to toggle the menu
		document.getElementById('nav-toggle').onclick = function() {
			document.getElementById("nav-content").classList.toggle("hidden");
		}
	</script>

</body>

</html>